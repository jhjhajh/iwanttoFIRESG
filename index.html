<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ‡¸ðŸ‡¬ Singapore FIRE Calculator - Liquid Cash & CPF Life</title>

    <!-- SEO & Meta -->
    <meta name="description"
        content="Free Singapore FIRE Calculator: Project your liquid cash bridge, CPF Life payouts, and retirement runway with inflation and FRS/BRS targets.">
    <meta name="keywords"
        content="FIRE Singapore, CPF Calculator, Retirement Planning, Financial Independence, CPF Life Estimator">

    <!-- Social / Open Graph -->
    <meta property="og:title" content="Singapore FIRE Calculator - Liquid Cash & CPF Life">
    <meta property="og:description"
        content="An advanced retirement calculator for Singaporeans. Visualize your net worth, CPF drawdowns, and liquid cash runway.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://jhjhajh.github.io/iwanttoFIRESG/">
    <meta property="og:image" content="https://jhjhajh.github.io/iwanttoFIRESG/preview.png">

    <!-- Canonical -->
    <link rel="canonical" href="https://jhjhajh.github.io/iwanttoFIRESG/">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>ðŸ‡¸ðŸ‡¬ Singapore FIRE Calculator</h1>
            <p class="subtitle">Savings | Investments | CPF | Cash Flow | <a href="#learn-more"
                    style="color: inherit; text-decoration: underline; cursor: pointer;">Learn More</a></p>
        </header>

        <div class="layout">
            <!-- LEFT: Inputs -->
            <div>
                <form id="fireForm">
                    <!-- Profile -->
                    <div class="card">
                        <h2>Your Profile</h2>
                        <div class="row-2">
                            <div class="form-group">
                                <label>Date of Birth *</label>
                                <input type="date" id="dob" value="2000-01-01" required>
                                <div class="sublabel" id="calculatedAge"></div>
                            </div>
                            <div class="form-group">
                                <label>I want to FIRE at Age *</label>
                                <input type="number" id="retirementAge" min="30" max="100" required>
                            </div>
                        </div>
                        <div class="row-2">
                            <div class="form-group">
                                <label>Life Expectancy</label>
                                <input type="number" id="lifeExpectancy" min="50" max="120" value="90">
                            </div>
                        </div>
                        <div class="row-2">
                            <div class="form-group">
                                <label>Inflation Rate (% p.a.)</label>
                                <input type="number" id="inflation" step="0.1" value="2.0">
                                <div class="sublabel">Singapore's estimated average inflation rate is ~2.0%.</div>
                            </div>
                            <div class="form-group">
                                <label>CPF Life Plan</label>
                                <select id="cpfLifePlan">
                                    <option value="standard">Standard (Level Payouts)</option>
                                    <option value="escalating">Escalating (Starts lower, grows 2%)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- BASE LIQUID ASSETS -->
                    <div class="card" style="margin-top: 16px;">
                        <h2>1. Current Liquid Assets (Today)</h2>
                        <div class="form-group">
                            <label>Current Savings (S$) *</label>
                            <input type="number" id="currentSavings" min="0" required>
                            <div class="sublabel">Cash in bank, 0% growth</div>
                        </div>

                        <div class="checkbox-group">
                            <input type="checkbox" id="hasInvestments" onchange="updateCalculation()">
                            <label for="hasInvestments">I have investments</label>
                        </div>

                        <div id="investmentsList" style="display: none;">
                            <div id="investmentItems"></div>
                            <button type="button" onclick="addInvestment()" class="btn-secondary btn-sm"
                                style="width: 100%; margin-top: 8px;">+ Add Investment</button>
                        </div>
                    </div>

                    <!-- MONTHLY CASH FLOW -->
                    <div class="card" style="margin-top: 16px;">
                        <h2>2. Monthly Cash Flow (While Working)</h2>

                        <div class="section-title">Income (Gross)</div>
                        <div class="row-2">
                            <div class="form-group">
                                <label>Employment Income (S$/month)</label>
                                <input type="number" id="employmentIncome" min="0">
                                <div class="sublabel">Gross Salary (Before CPF)</div>
                            </div>
                            <div class="form-group">
                                <label>Other Income (S$/month)</label>
                                <input type="number" id="otherIncome" min="0">
                                <div class="sublabel">Freelance, side business, etc.</div>
                            </div>
                        </div>
                        <div class="row-2">
                            <div class="form-group">
                                <label>Annual Salary Growth (%)</label>
                                <input type="number" id="salaryGrowth" min="0" max="20" step="0.1">
                            </div>
                            <div class="form-group">
                                <label>Annual Bonus (S$)</label>
                                <input type="number" id="annualBonus" min="0">
                            </div>
                        </div>

                        <div class="section-title">Deductions</div>
                        <div class="row-2">
                            <div class="form-group">
                                <label>Monthly Expenses (Current) *</label>
                                <input type="number" id="monthlyExpenses" min="0" required>
                                <div class="sublabel">Rent, food, transport, etc. (Excl. Mortgage)</div>
                            </div>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="expenseChangeAtFire" onchange="updateCalculation()">
                            <label for="expenseChangeAtFire">Expenses change after FIRE?</label>
                        </div>
                        <div id="postFireExpenseGroup"
                            style="display:none; margin-bottom:15px; background: rgba(32, 128, 146, 0.05); padding:10px; border-radius:6px;">
                            <div class="form-group" style="margin-bottom:0;">
                                <label>Monthly Expenses (After FIRE)</label>
                                <input type="number" id="postFireMonthlyExpenses" min="0">
                                <div class="sublabel">Projected in today's money (will inflate)</div>
                            </div>
                        </div>

                        <div class="section-title">Housing / Mortgage</div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="hasMortgage" onchange="updateCalculation()">
                            <label for="hasMortgage">I have a mortgage</label>
                        </div>

                        <div id="mortgageSection"
                            style="display: none; background: rgba(32, 128, 146, 0.03); padding: 12px; border-radius: 8px; border: 1px solid var(--color-border);">
                            <div class="row-2">
                                <div class="form-group">
                                    <label>Monthly Payment (S$)</label>
                                    <input type="number" id="mortgagePayment" min="0">
                                </div>
                                <div class="form-group">
                                    <label>Ends at Age</label>
                                    <input type="number" id="mortgageEndAge" min="0" max="100">
                                </div>
                            </div>
                            <div class="row-2">
                                <div class="form-group">
                                    <label>Payment Source</label>
                                    <select id="mortgageSource" onchange="updateCalculation()">
                                        <option value="cash">Cash Only</option>
                                        <option value="cpf">CPF OA Only</option>
                                        <option value="mixed">Mixed (CPF + Cash)</option>
                                    </select>
                                </div>
                                <div class="form-group" id="mortgageCPFPortionGroup" style="display: none;">
                                    <label>CPF Portion (S$/mth)</label>
                                    <input type="number" id="mortgageCPFPortion" min="0">
                                    <div class="sublabel">Remainder paid in Cash</div>
                                </div>
                            </div>
                        </div>

                        <div class="section-title">Investments</div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="hasMonthlyInvestments" onchange="updateCalculation()">
                            <label for="hasMonthlyInvestments">I invest monthly</label>
                        </div>
                        <div id="monthlyInvestmentsSection" style="display: none;">
                            <div id="monthlyInvestmentsList"></div>
                            <button type="button" onclick="addMonthlyInvestment()" class="btn-secondary btn-sm"
                                style="width: 100%; margin-top: 8px;">+ Add Monthly Investment</button>
                        </div>
                    </div>

                    <!-- CPF -->
                    <div class="card" style="margin-top: 16px;">
                        <h2>3. CPF (Automatic from Employment Income)</h2>
                        <div class="form-group">
                            <div class="sublabel">Rates are fully automated based on your Age (DOB).</div>
                        </div>

                        <div class="checkbox-group">
                            <input type="checkbox" id="addCPFTopups" onchange="updateCalculation()">
                            <label for="addCPFTopups">CPF Advanced Config</label>
                        </div>
                        <div id="cpfTopupSection"
                            style="display: none; background: rgba(32, 128, 146, 0.03); padding: 12px; border-radius: 8px; border: 1px solid var(--color-border); margin-bottom: 10px;">
                            <div class="row-2">
                                <div class="form-group">
                                    <label>Cash Top-up to SA (Annual)</label>
                                    <input type="number" id="saCashTopup" min="0">
                                </div>
                                <div class="form-group">
                                    <label>Cash Top-up to MA (Annual)</label>
                                    <input type="number" id="maCashTopup" min="0">
                                </div>
                            </div>
                            <div class="row-2">
                                <div class="form-group">
                                    <label>OA to SA Transfer (Annual)</label>
                                    <input type="number" id="oaToSaTransfer" min="0">
                                </div>
                                <div class="form-group">
                                    <label>Other OA Usage (Housing/Edu) (Monthly)</label>
                                    <input type="number" id="otherOAMonthly" min="0">
                                    <div class="sublabel">Apart from Mortgage</div>
                                </div>
                            </div>

                            <div class="section-title">CPF Investment Portfolios (CPFIS)</div>
                            <div id="cpfisList"></div>
                            <button type="button" onclick="addCPFISPortfolio()" class="btn-secondary btn-sm"
                                style="width: 100%; margin-top: 8px;">+ Add CPFIS Portfolio</button>
                            <div class="sublabel" style="margin-top:5px;">Investments are deducted from respective
                                CPF
                                accounts monthly.</div>
                        </div>

                    </div>

                    <!-- Annual Recurring Expenses -->
                    <div class="card" style="margin-top: 16px;">
                        <h2>4. Annual Recurring Expenses</h2>
                        <div class="form-group">
                            <div class="sublabel">Note: Include estimated income tax here if desired.</div>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="hasAnnualExpenses" onchange="updateCalculation()">
                            <label for="hasAnnualExpenses">I have recurring annual expenses (e.g. Travel,
                                Insurance)</label>
                        </div>
                        <div id="annualExpensesSection" style="display: none;">
                            <div id="annualExpensesList"></div>
                            <button type="button" onclick="addAnnualExpense()" class="btn-secondary btn-sm"
                                style="width: 100%; margin-top: 8px;">+ Add Annual Expense</button>
                        </div>
                        <div class="form-group" style="margin-top: 20px;">
                            <label>CPF Life Payout Age</label>
                            <input type="number" id="payoutAge" min="65" max="70" value="65">
                            <div class="sublabel">Age when CPF savings are converted to monthly payouts.</div>
                        </div>
                    </div>

                    <!-- Major Life Events -->
                    <div class="card" style="margin-top: 16px;">
                        <h2>5. Major One-time Purchases</h2>
                        <div class="checkbox-group">
                            <input type="checkbox" id="hasPurchases" onchange="updateCalculation()">
                            <label for="hasPurchases">I have one-time purchases</label>
                        </div>
                        <div id="purchasesSection" style="display: none;">
                            <div id="purchasesList"></div>
                            <button type="button" onclick="addPurchase()" class="btn-secondary btn-sm"
                                style="width: 100%; margin-top: 8px;">+ Add Purchase</button>
                        </div>
                    </div>

                    <div class="button-group" style="margin-top: 16px;">
                        <button type="button" class="btn-secondary" onclick="resetForm()">Reset</button>
                        <button type="button" class="btn-secondary" onclick="clearSavedData()"
                            style="flex: none; padding: 10px 16px; font-size: 11px;">Clear All</button>
                        <button type="button" class="btn-primary" onclick="updateCalculation()">Calculate</button>
                    </div>
                </form>
            </div>

            <!-- RIGHT: Results -->
            <div>
                <div class="card">
                    <h2>FIRE Analysis</h2>
                    <div class="alert alert-warning" id="achieveAlert"></div>
                    <div class="alert alert-success" id="successAlert"></div>

                    <div class="results-grid">
                        <div class="result-card">
                            <div class="result-card-label">Monthly Savings Rate</div>
                            <div class="result-card-value" id="monthlySavingsRate">S$ 0</div>
                            <div class="result-card-desc">Current: Income - CPF - Expenses</div>
                        </div>
                        <div class="result-card">
                            <div class="result-card-label">Liquid at FIRE Age (No CPF)</div>
                            <div class="result-card-value" id="liquidRetirement">S$ 0</div>
                            <div class="result-card-desc">Savings + Investments</div>
                        </div>
                        <div class="result-card">
                            <div class="result-card-label">CPF at FIRE Age</div>
                            <div class="result-card-value" id="cpfRetirement">S$ 0</div>
                            <div class="result-card-desc">OA + SA + MA total</div>
                        </div>
                        <div class="result-card">
                            <div class="result-card-label">Accessible Total</div>
                            <div class="result-card-value" id="accessibleTotal">S$ 0</div>
                            <div class="result-card-desc">Liquid + Accessible CPF</div>
                        </div>
                        <div class="result-card"
                            style="grid-column: span 2; background: rgba(32, 128, 146, 0.05); border-color: var(--color-primary);">
                            <div class="result-card-label" style="color: var(--color-primary);">CPF Life Estimates (at
                                <span id="cpfLifeStartAgeDisp">65</span>)
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-top: 5px;">
                                <div>
                                    <div style="font-size: 10px; color: #666;">Proj. RA Balance</div>
                                    <div style="font-weight: 600; font-size: 14px;" id="projRA65">-</div>
                                </div>
                                <div>
                                    <div style="font-size: 10px; color: #666;">Est. Monthly Payout</div>
                                    <div style="font-weight: 600; font-size: 14px;" id="estMonthlyPayout">-</div>
                                </div>
                                <div>
                                    <div style="font-size: 10px; color: #666;">Target FRS (Cohort)</div>
                                    <div style="font-weight: 600; font-size: 14px;" id="targetFRS">-</div>
                                </div>
                            </div>
                        </div>
                        <div class="result-card">
                            <div class="result-card-label">Annual Expenses</div>
                            <div class="result-card-value" id="annualExpenses">S$ 0</div>
                            <div class="result-card-desc">At FIRE Age (inflation-adjusted)</div>
                        </div>
                        <div class="result-card">
                            <div class="result-card-label">FIRE Target (25x)</div>
                            <div class="result-card-value" id="fireTarget">S$ 0</div>
                            <div class="result-card-desc">Required for 4% withdrawal</div>
                        </div>
                        <div class="result-card">
                            <div class="result-card-label">Status</div>
                            <div class="result-card-value" id="fireStatus">-</div>
                            <div class="result-card-desc" id="fireStatusDesc"></div>
                        </div>
                        <div class="result-card">
                            <div class="result-card-label">Portfolio at Age 100</div>
                            <div class="result-card-value" id="portfolioAtEnd">S$ 0</div>
                            <div class="result-card-desc">After withdrawals</div>
                        </div>
                    </div>

                    <div class="info-box" id="cashFlowBox" style="display: none;"></div>
                </div>

                <div class="card" style="margin-top: 16px;">
                    <div class="tab-buttons">
                        <button class="tab-button active" onclick="switchTab('portfolioTab')">Total
                            Portfolio</button>
                        <button class="tab-button" onclick="switchTab('liquidTab')">Liquid Cash Only</button>
                        <button class="tab-button" onclick="switchTab('cpfTab')">CPF Accounts</button>
                    </div>

                    <div id="portfolioTab" class="tab-content active">
                        <div class="chart-container"><canvas id="portfolioChart"></canvas></div>
                    </div>

                    <div id="liquidTab" class="tab-content">
                        <div class="chart-container"><canvas id="liquidChart"></canvas></div>
                    </div>

                    <div id="cpfTab" class="tab-content">
                        <div class="chart-container"><canvas id="cpfChart"></canvas></div>
                    </div>
                </div>
            </div>
        </div>
        <footer
            style="margin-top: 40px; padding: 20px; border-top: 1px solid var(--color-border); color: #666; font-size: 0.9em; line-height: 1.5;">
            <p><strong>Disclaimer</strong></p>
            <p>This FIRE calculator is not endorsed by CPF or any other entities and is created only for educational and
                financial planning purposes.</p>
            <p>The product is not intended as financial advice or as an offer or recommendation of securities or other
                financial products.</p>
            <p>While attempts has been made to reflect the forecast correctly according to the parameters the calculator
                may fail to forecast the actual amount accurately for multiple reasons.</p>
            <p><strong>Note on Inputs:</strong> Please ensure your inputs are realistic (e.g., standard salary ranges,
                reasonable inflation/returns). This is a simplified estimation tool; entering extreme or "funky" values
                may break the projection model.</p>
            <p>If you noticed any inaccuracies or errors, feel free to <a
                    href="https://github.com/jhjhajh/iwanttoFIRESG" target="_blank"
                    style="color: inherit; text-decoration: underline;">raise an issue on GitHub</a>, create a
                discussion, or fork the repo.</p>

            <div id="learn-more"
                style="margin-top: 40px; padding-top: 20px; border-top: 1px dashed var(--color-border);">
                <h3 style="color: var(--color-text); font-size: 16px; margin-bottom: 15px;">Learn More: How this
                    Calculator Works</h3>

                <h4 style="font-size: 14px; margin: 15px 0 8px 0; color: var(--color-primary);">Purpose</h4>
                <p>Most FIRE calculators assume you can access all your net worth at any time. In Singapore, a
                    significant portion of our wealth (CPF) is locked until age 55 (withdrawal) or 65 (CPF Life
                    payouts). This calculator is designed to model that reality by separating <strong>Liquid
                        Cash</strong> from <strong>CPF</strong>.</p>

                <h4 style="font-size: 14px; margin: 15px 0 8px 0; color: var(--color-primary);">The "Liquid Cash Bridge"
                </h4>
                <p>This is the most important concept in this calculator. To retire early (FIRE), you need enough liquid
                    cash or accessible investments to bridge the gap between your <strong>FIRE Age</strong> and your
                    <strong>CPF Withdrawal Age</strong>. Even if you have $1 Million in CPF, you cannot retire at 40 if
                    you have $0 liquid cash, because you can't pay for groceries.
                </p>
                <div
                    style="background: rgba(32, 128, 146, 0.05); padding: 10px; border-radius: 6px; border-left: 3px solid var(--color-primary); margin: 10px 0;">
                    <strong>Failure Condition:</strong> This calculator marks your plan as FAILED if your Liquid Assets
                    drop below $0 at any point, even if your total net worth is positive.
                </div>

                <h4 style="font-size: 14px; margin: 15px 0 8px 0; color: var(--color-primary);">CPF Retirement Sums &
                    Payouts</h4>
                <p>This calculator now projects your <strong>Retirement Sums (BRS/FRS/ERS)</strong> based on your cohort
                    (birth year). It assumes these sums increase by <strong>3.5% per annum</strong> from the 2025
                    baseline until you turn 55, at which point they are fixed.</p>
                <p><strong>CPF Life Payouts</strong> are estimated using a linear interpolation of the 2025 cohort data
                    (e.g. ~$1,650/mth for Standard Plan FRS). The projection assumes your monthly payout will help
                    offset your expenses starting from your Payout Age (default 65).</p>

                <h4 style="font-size: 14px; margin: 15px 0 8px 0; color: var(--color-primary);">Key Assumptions &
                    Nuances</h4>
                <ul style="padding-left: 20px; list-style-type: disc;">
                    <li><strong>Inflation:</strong> All expenses and targets are inflation-adjusted. If you set 2%
                        inflation, a $1000 expense today is calculated as ~$1218 in 10 years.</li>
                    <li><strong>Expenses After FIRE:</strong> You can now specify if your monthly expenses change after
                        you retire (e.g., lower transport costs, higher travel costs). This helps model "Lean FIRE" or
                        "Fat FIRE" scenarios more accurately.</li>
                    <li><strong>Withdrawal Strategy:</strong> The calculator prioritizes using Cash first. If Cash runs
                        out, it liquidates Investments. It only touches CPF payouts when eligible.</li>
                </ul>
            </div>
        </footer>
    </div>

    <script src="script.js"></script>
</body>

</html>